/* ==========================================================================
   JJ PRODUCT OVERRIDES
   Scoped to standard productView layout
   ========================================================================== */

/* -------------------------------
   Overall layout tweaks
   ------------------------------- */

.productView {
    /* Top line: brand + price */
    .jj-topline {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 0.5rem;
        margin-bottom: 0.25rem;
    }

    .jj-topline-brand {
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }

    .jj-topline-price {
        margin-left: auto;
        text-align: right;
    }

    .jj-topline-price .price-section {
        font-size: 1.4rem;
        font-weight: 700;
        line-height: 1.1;
    }

    /* Title – desktop-ish defaults */
    .jj-product-title {
        font-size: 1.9rem;
        line-height: 1.2;
        margin-top: 0.15rem;
        margin-bottom: 0.75rem;
    }

    /* Availability / custom fields block under Add to Cart */
    .jj-post-cart-meta {
        margin-top: 0.75rem;
        border-top: 1px solid rgba(0, 0, 0, 0.08);
        padding-top: 0.5rem;
    }

    .jj-meta-row {
        display: flex;
        justify-content: flex-start;
        align-items: baseline;
        font-size: 0.875rem;
        margin-bottom: 0.15rem;
        column-gap: 0.35rem;
    }

    .jj-meta-label {
        font-weight: 600;
        opacity: 0.85;
    }

    .jj-meta-value {
        opacity: 0.95;
    }

    /* Rating block moved under Add to Cart */
    .jj-rating-below-cart {
        margin-top: 0.75rem;
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem 0.75rem;
        align-items: center;
        font-size: 0.875rem;
    }
}

/* -------------------------------
   Image arrows over main image
   ------------------------------- */

.productView-img-container {
    position: relative;
}

.jj-gallery-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    border: none;
    background: rgba(0, 0, 0, 0.15);
    width: 2rem;
    height: 2rem;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.25rem;
    line-height: 1;
    color: #ffffff;
    padding: 0;
    transition: background 0.15s ease, transform 0.1s ease;
    z-index: 2;
}

.jj-gallery-arrow--prev {
    left: 0.35rem;
}

.jj-gallery-arrow--next {
    right: 0.35rem;
}

.jj-gallery-arrow:hover,
.jj-gallery-arrow:focus-visible {
    background: rgba(0, 0, 0, 0.35);
    transform: translateY(-50%) scale(1.03);
}

/* -------------------------------
   Swatch rows: horizontal slider
   ------------------------------- */

/* Keep the field itself static so the label doesn't scroll */
.productView-options .form-field[data-product-attribute="swatch"] {
    display: block;
    margin-bottom: 0.75rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
}

/* Label stays full-width, not in the horizontal scroll area */
.productView-options .form-field[data-product-attribute="swatch"] .form-label {
    display: block;
    margin-bottom: 0.35rem;
    white-space: normal;
}

/* The inner swatch strip is what actually scrolls horizontally */
.productView-options .form-field[data-product-attribute="swatch"] .form-option-swatch-wrap {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    padding-bottom: 0.45rem; /* space for thicker scrollbar */
}

/* Each swatch wrapper becomes an inline “chip” */
.productView-options
    .form-field[data-product-attribute="swatch"]
    .form-option-swatch-wrap
    .form-option-wrapper {
    display: inline-block;
    vertical-align: top;
    margin-right: 0.25rem;
}

/* Swatch tile size + non-cropping background */
.productView-options
    .form-field[data-product-attribute="swatch"]
    .form-option-swatch
    .form-option-variant {
    width: 65px;
    height: 65px;
    border-radius: 0.4rem;

    /* KEY: show full icon, don't crop */
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* Selected swatch outlined a bit more boldly */
.productView-options
    .form-field[data-product-attribute="swatch"]
    input.form-radio:checked
    + .form-option-swatch {
    box-shadow: 0 0 0 2px #21561f;
}

/* Thicker horizontal scrollbar (WebKit / Chromium only) */
.productView-options
    .form-field[data-product-attribute="swatch"]
    .form-option-swatch-wrap::-webkit-scrollbar {
    height: 10px;
}

.productView-options
    .form-field[data-product-attribute="swatch"]
    .form-option-swatch-wrap::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.04);
    border-radius: 999px;
}

.productView-options
    .form-field[data-product-attribute="swatch"]
    .form-option-swatch-wrap::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.18);
    border-radius: 999px;
}


/* -------------------------------
   MOBILE-FIRST TIGHTENING
   Keep image + sliders in same viewport
   ------------------------------- */

@media (max-width: 767px) {
    .productView {
        /* Reduce gap beneath the main image */
        .productView-images {
            margin-bottom: 0.35rem;
        }

        .productView-image {
            margin-bottom: 0.25rem;
        }

        .productView-img-container {
            padding-bottom: 0.25rem;
        }

        /* Smaller title so it wraps to ~2 lines max more often */
        .jj-product-title {
            font-size: 1.45rem;
            line-height: 1.2;
            margin-top: 0.1rem;
            margin-bottom: 0.4rem;
        }

        /* Tighten the vertical space between title and swatches */
        .productView-options {
            margin-top: 0.25rem;
        }

        .productView-options .form-field[data-product-attribute="swatch"] {
            margin-top: 0.15rem;
            margin-bottom: 0.55rem;
        }

        /* Slightly smaller top-line text on mobile to reduce height */
        .jj-topline-brand {
            font-size: 0.8rem;
        }

        .jj-topline-price .price-section {
            font-size: 1.25rem;
        }
    }
}

/* -------------------------------
   Slightly wider feel on larger viewports
   (optional nudge to echo the mockup’s “wider” layout)
   ------------------------------- */

@media (min-width: 992px) {
    .productView {
        max-width: 1150px;
        margin-left: auto;
        margin-right: auto;
    }

    .productView-details.product-data {
        padding-left: 2rem;
    }
}
